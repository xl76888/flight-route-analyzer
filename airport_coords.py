# 机场坐标数据
AIRPORT_COORDS = {
    # 中国主要机场
    "深圳": [22.6393, 113.8107],
    "SZX": [22.6393, 113.8107],
    "北京": [40.0799, 116.6031],
    "PEK": [40.0799, 116.6031],
    "上海": [31.1979, 121.3364],
    "PVG": [31.1979, 121.3364],
    "广州": [23.3924, 113.2988],
    "CAN": [23.3924, 113.2988],
    "杭州": [30.2295, 120.4347],
    "HGH": [30.2295, 120.4347],
    "成都": [30.5728, 103.9478],
    "CTU": [30.5728, 103.9478],
    "武汉": [30.7838, 114.2081],
    "WUH": [30.7838, 114.2081],
    "烟台": [37.4017, 121.3717],
    "YNT": [37.4017, 121.3717],
    "重庆": [29.7192, 106.6417],
    "CKG": [29.7192, 106.6417],
    "西安": [34.4471, 108.7519],
    "XIY": [34.4471, 108.7519],
    "昆明": [25.1019, 102.9289],
    "KMG": [25.1019, 102.9289],
    "南京": [31.7420, 118.8622],
    "NKG": [31.7420, 118.8622],
    "青岛": [36.2661, 120.3744],
    "TAO": [36.2661, 120.3744],
    "厦门": [24.5440, 118.1281],
    "XMN": [24.5440, 118.1281],
    "大连": [38.9656, 121.5386],
    "DLC": [38.9656, 121.5386],
    "沈阳": [41.6398, 123.4831],
    "SHE": [41.6398, 123.4831],
    "长沙": [28.1892, 113.2200],
    "CSX": [28.1892, 113.2200],
    "郑州": [34.5197, 113.8406],
    "CGO": [34.5197, 113.8406],
    "天津": [39.1244, 117.3464],
    "TSN": [39.1244, 117.3464],
    "南宁": [22.6083, 108.1719],
    "NNG": [22.6083, 108.1719],
    "海口": [19.9349, 110.4589],
    "HAK": [19.9349, 110.4589],
    "三亚": [18.3028, 109.4122],
    "SYX": [18.3028, 109.4122],
    "乌鲁木齐": [43.9071, 87.4744],
    "URC": [43.9071, 87.4744],
    "拉萨": [29.2978, 90.9119],
    "鄂州": [30.310, 114.306],
    "EHU": [30.310, 114.306],
    "LXA": [29.2978, 90.9119],
    "银川": [38.4814, 106.0092],
    "INC": [38.4814, 106.0092],
    "兰州": [36.5150, 103.6200],
    "LHW": [36.5150, 103.6200],
    "石家庄": [38.2806, 114.6964],
    "SJW": [38.2806, 114.6964],
    "太原": [37.7469, 112.6286],
    "TYN": [37.7469, 112.6286],
    "呼和浩特": [40.8514, 111.8244],
    "HET": [40.8514, 111.8244],
    "哈尔滨": [45.6234, 126.2500],
    "HRB": [45.6234, 126.2500],
    "长春": [43.9961, 125.6850],
    "CGQ": [43.9961, 125.6850],
    "济南": [36.8570, 117.2156],
    "TNA": [36.8570, 117.2156],
    "福州": [25.9350, 119.6656],
    "FOC": [25.9350, 119.6656],
    "南昌": [28.8647, 115.9000],
    "KHN": [28.8647, 115.9000],
    "合肥": [31.7800, 117.2981],
    "HFE": [31.7800, 117.2981],
    "贵阳": [26.5386, 106.8003],
    "KWE": [26.5386, 106.8003],
    "西宁": [36.5275, 101.7781],
    "XNN": [36.5275, 101.7781],
    "包头": [40.5600, 109.9978],
    "BAV": [40.5600, 109.9978],
    "温州": [27.9122, 120.8522],
    "WNZ": [27.9122, 120.8522],
    "无锡": [31.4944, 120.4289],
    "WUX": [31.4944, 120.4289],
    "宁波": [29.8267, 121.4619],
    "NGB": [29.8267, 121.4619],
    "南通": [32.0707, 120.9757],
    "NTG": [32.0707, 120.9757],
    
    # 国际主要机场
    "东京": [35.7647, 140.3864],
    "NRT": [35.7647, 140.3864],
    "首尔": [37.4602, 126.4407],
    "ICN": [37.4602, 126.4407],
    "新加坡": [1.3644, 103.9915],
    "SIN": [1.3644, 103.9915],
    "曼谷": [13.6900, 100.7501],
    "BKK": [13.6900, 100.7501],
    "吉隆坡": [2.7456, 101.7072],
    "KUL": [2.7456, 101.7072],
    "雅加达": [-6.1256, 106.6558],
    "CGK": [-6.1256, 106.6558],
    
    # 日本机场
    "大阪": [34.4348, 135.2442],  # 关西国际机场
    "KIX": [34.4348, 135.2442],
    "名古屋": [35.2553, 136.9242],
    "NGO": [35.2553, 136.9242],
    "福冈": [33.5859, 130.4511],
    "FUK": [33.5859, 130.4511],
    "札幌": [42.7747, 141.6920],
    "CTS": [42.7747, 141.6920],
    "仙台": [38.1397, 140.9169],
    "SDJ": [38.1397, 140.9169],
    "关西": [34.4348, 135.2442],
    "成田": [35.7647, 140.3864],
    "羽田": [35.5494, 139.7798],
    "HND": [35.5494, 139.7798],
    
    # 其他亚洲城市
    "台北": [25.0797, 121.2342],
    "TPE": [25.0797, 121.2342],
    "高雄": [22.5771, 120.3498],
    "KHH": [22.5771, 120.3498],
    "香港": [22.3080, 113.9185],
    "HKG": [22.3080, 113.9185],
    "澳门": [22.1496, 113.5916],
    "MFM": [22.1496, 113.5916],
    
    # 南亚和中东
    "新德里": [28.5562, 77.1000],
    "DEL": [28.5562, 77.1000],
    "孟买": [19.0896, 72.8656],
    "BOM": [19.0896, 72.8656],
    "班加罗尔": [13.1986, 77.7066],
    "BLR": [13.1986, 77.7066],
    "金奈": [12.9941, 80.1709],
    "MAA": [12.9941, 80.1709],
    "达卡": [23.8433, 90.3978],
    "DAC": [23.8433, 90.3978],
    "科伦坡": [7.1808, 79.8841],
    "CMB": [7.1808, 79.8841],
    "伊斯兰堡": [33.6149, 73.0946],
    "ISB": [33.6149, 73.0946],
    "拉合尔": [31.5656, 74.4036],
    "LHE": [31.5656, 74.4036],
    "卡拉奇": [24.9056, 67.1608],
    "KHI": [24.9056, 67.1608],
    "迪拜": [25.2532, 55.3657],
    "DXB": [25.2532, 55.3657],
    "阿布扎比": [24.4330, 54.6511],
    "AUH": [24.4330, 54.6511],
    "多哈": [25.2731, 51.6080],
    "DOH": [25.2731, 51.6080],
    "科威特": [29.2267, 47.9689],
    "KWI": [29.2267, 47.9689],
    
    # 欧洲主要机场
    "法兰克福": [50.0379, 8.5622],
    "FRA": [50.0379, 8.5622],
    "慕尼黑": [48.3537, 11.7750],
    "MUC": [48.3537, 11.7750],
    "伦敦": [51.4700, -0.4543],
    "LHR": [51.4700, -0.4543],
    "巴黎": [49.0097, 2.5479],
    "CDG": [49.0097, 2.5479],
    "阿姆斯特丹": [52.3105, 4.7683],
    "AMS": [52.3105, 4.7683],
    "布鲁塞尔": [50.9010, 4.4856],
    "BRU": [50.9010, 4.4856],
    "列日": [50.6374, 5.4431],
    "LGG": [50.6374, 5.4431],
    "苏黎世": [47.4647, 8.5492],
    "ZUR": [47.4647, 8.5492],
    "维也纳": [48.1103, 16.5697],
    "VIE": [48.1103, 16.5697],
    "罗马": [41.8003, 12.2389],
    "FCO": [41.8003, 12.2389],
    "米兰": [45.6306, 8.7231],
    "MXP": [45.6306, 8.7231],
    "马德里": [40.4839, -3.5680],
    "MAD": [40.4839, -3.5680],
    "巴塞罗那": [41.2974, 2.0833],
    "BCN": [41.2974, 2.0833],
    "斯德哥尔摩": [59.6519, 17.9186],
    "ARN": [59.6519, 17.9186],
    "奥斯陆": [60.1939, 11.1004],
    "OSL": [60.1939, 11.1004],
    "赫尔辛基": [60.3172, 24.9633],
    "HEL": [60.3172, 24.9633],
    "哥本哈根": [55.6181, 12.6561],
    "CPH": [55.6181, 12.6561],
    "华沙": [52.1657, 20.9671],
    "WAW": [52.1657, 20.9671],
    "布拉格": [50.1008, 14.2632],
    "PRG": [50.1008, 14.2632],
    "布达佩斯": [47.4394, 19.2606],
    "BUD": [47.4394, 19.2606],
    "莫斯科": [55.9728, 37.4147],
    "SVO": [55.9728, 37.4147],
    "圣彼得堡": [59.8003, 30.2625],
    "LED": [59.8003, 30.2625],
    
    # 北美洲
    "纽约": [40.6413, -73.7781],
    "JFK": [40.6413, -73.7781],
    "洛杉矶": [33.9425, -118.4081],
    "LAX": [33.9425, -118.4081],
    "芝加哥": [41.9742, -87.9073],
    "ORD": [41.9742, -87.9073],
    "旧金山": [37.6213, -122.3790],
    "SFO": [37.6213, -122.3790],
    "西雅图": [47.4502, -122.3088],
    "SEA": [47.4502, -122.3088],
    "多伦多": [43.6777, -79.6248],
    "YYZ": [43.6777, -79.6248],
    "温哥华": [49.1967, -123.1815],
    "YVR": [49.1967, -123.1815],
    "哈利法克斯": [44.8808, -63.5086],
    "YHZ": [44.8808, -63.5086],
    "安克雷奇": [61.1744, -149.9961],
    "ANC": [61.1744, -149.9961],
    
    # 中亚
    "阿拉木图": [43.3499, 77.0128],
    "ALA": [43.3499, 77.0128],
    "卡拉干达": [49.6708, 73.3344],
    "KGF": [49.6708, 73.3344],
    "塔什干": [41.2579, 69.2811],
    "TAS": [41.2579, 69.2811],
    "第比利斯": [41.6692, 44.9547],
    "TBS": [41.6692, 44.9547],
    "巴库": [40.4675, 50.0467],
    "BAK": [40.4675, 50.0467],
    "马尼拉": [14.5086, 121.0194],
    "MNL": [14.5086, 121.0194],
    "胡志明市": [10.8189, 106.6519],
    "SGN": [10.8189, 106.6519],
    "河内": [21.2214, 105.8072],
    "HAN": [21.2214, 105.8072],
    "金边": [11.5564, 104.8442],
    "PNH": [11.5564, 104.8442],
    "金奈": [12.9816, 80.1636],
    "MAA": [12.9816, 80.1636],
    "仰光": [16.9073, 96.1331],
    "RGN": [16.9073, 96.1331],
    "达卡": [23.8431, 90.3978],
    "DAC": [23.8431, 90.3978],
    "拉合尔": [31.5193, 74.4093],
    "LHE": [31.5193, 74.4093],
    "科伦坡": [7.1808, 79.8842],
    "CMB": [7.1808, 79.8842],
    "德里": [28.5562, 77.1000],
    "DEL": [28.5562, 77.1000],
    "孟买": [19.0896, 72.8656],
    "BOM": [19.0896, 72.8656],
    "加尔各答": [22.6547, 88.4467],
    "CCU": [22.6547, 88.4467],
    "班加罗尔": [13.1986, 77.7066],
    "BLR": [13.1986, 77.7066],
    "迪拜": [25.2532, 55.3657],
    "DXB": [25.2532, 55.3657],
    "多哈": [25.2731, 51.6080],
    "DOH": [25.2731, 51.6080],
    "阿布扎比": [24.4330, 54.6511],
    "AUH": [24.4330, 54.6511],
    "科威特": [29.2267, 47.9689],
    "KWI": [29.2267, 47.9689],
    "利雅得": [24.9578, 46.6986],
    "RUH": [24.9578, 46.6986],
    "伊斯坦布尔": [40.9769, 28.8169],
    "IST": [40.9769, 28.8169],
    "开罗": [30.1219, 31.4056],
    "CAI": [30.1219, 31.4056],
    "约翰内斯堡": [-26.1367, 28.2411],
    "JNB": [-26.1367, 28.2411],
    "内罗毕": [-1.3192, 36.9278],
    "NBO": [-1.3192, 36.9278],
    "拉各斯": [6.5774, 3.3211],
    "LOS": [6.5774, 3.3211],
    "阿克拉": [5.6052, -0.1669],
    "ACC": [5.6052, -0.1669],
    "伦敦": [51.4700, -0.4543],
    "LHR": [51.4700, -0.4543],
    "巴黎": [49.0097, 2.5479],
    "CDG": [49.0097, 2.5479],
    "法兰克福": [50.0379, 8.5622],
    "FRA": [50.0379, 8.5622],
    "阿姆斯特丹": [52.3105, 4.7683],
    "AMS": [52.3105, 4.7683],
    "布达佩斯": [47.4394, 19.2612],
    "BUD": [47.4394, 19.2612],
    "列日": [50.6372, 5.4431],
    "LGG": [50.6372, 5.4431],
    "英迪拉甘地": [28.5562, 77.1000],
    "IGI": [28.5562, 77.1000],
    "慕尼黑": [48.3537, 11.7750],
    "MUC": [48.3537, 11.7750],
    "苏黎世": [47.4647, 8.5492],
    "ZUR": [47.4647, 8.5492],
    "维也纳": [48.1103, 16.5697],
    "VIE": [48.1103, 16.5697],
    "米兰": [45.6306, 8.7231],
    "MXP": [45.6306, 8.7231],
    "罗马": [41.7999, 12.2462],
    "FCO": [41.7999, 12.2462],
    "马德里": [40.4719, -3.5626],
    "MAD": [40.4719, -3.5626],
    "巴塞罗那": [41.2974, 2.0833],
    "BCN": [41.2974, 2.0833],
    "莫斯科": [55.9726, 37.4146],
    "SVO": [55.9726, 37.4146],
    "圣彼得堡": [59.8003, 30.2625],
    "LED": [59.8003, 30.2625],
    "华沙": [52.1657, 20.9671],
    "WAW": [52.1657, 20.9671],
    "布拉格": [50.1008, 14.2632],
    "PRG": [50.1008, 14.2632],
    "斯德哥尔摩": [59.6519, 17.9186],
    "ARN": [59.6519, 17.9186],
    "哥本哈根": [55.6181, 12.6561],
    "CPH": [55.6181, 12.6561],
    "赫尔辛基": [60.3172, 24.9633],
    "HEL": [60.3172, 24.9633],
    
    # 美洲主要机场
    "纽约": [40.6413, -73.7781],
    "JFK": [40.6413, -73.7781],
    "洛杉矶": [33.9425, -118.4081],
    "LAX": [33.9425, -118.4081],
    "芝加哥": [41.9742, -87.9073],
    "ORD": [41.9742, -87.9073],
    "旧金山": [37.6213, -122.3790],
    "SFO": [37.6213, -122.3790],
    "西雅图": [47.4502, -122.3088],
    "SEA": [47.4502, -122.3088],
    "多伦多": [43.6777, -79.6248],
    "YYZ": [43.6777, -79.6248],
    "温哥华": [49.1967, -123.1815],
    "YVR": [49.1967, -123.1815],
    "墨西哥城": [19.4363, -99.0721],
    "MEX": [19.4363, -99.0721],
    "圣保罗": [-23.4356, -46.4731],
    "GRU": [-23.4356, -46.4731],
    "里约热内卢": [-22.8089, -43.2436],
    "GIG": [-22.8089, -43.2436],
    "布宜诺斯艾利斯": [-34.8222, -58.5358],
    "EZE": [-34.8222, -58.5358],
    "利马": [-12.0219, -77.1143],
    "LIM": [-12.0219, -77.1143],
    "波哥大": [4.7016, -74.1469],
    "BOG": [4.7016, -74.1469],
    
    # 大洋洲主要机场
    "悉尼": [-33.9399, 151.1753],
    "SYD": [-33.9399, 151.1753],
    "墨尔本": [-37.6690, 144.8410],
    "MEL": [-37.6690, 144.8410],
    "布里斯班": [-27.3942, 153.1218],
    "BNE": [-27.3942, 153.1218],
    "珀斯": [-31.9403, 115.9669],
    "PER": [-31.9403, 115.9669],
    "奥克兰": [-36.9985, 174.7892],
    "AKL": [-36.9985, 174.7892],
    
    # 补充缺失的印度机场
    "肯佩戈达": [13.1986, 77.7066],  # 班加罗尔肯佩戈达国际机场
    "KIA": [13.1986, 77.7066],
    "阿拉玛伊克巴尔": [23.8431, 90.3978],  # 达卡阿拉玛伊克巴尔国际机场
    "DAC": [23.8431, 90.3978],
    "贾特拉帕蒂希瓦": [19.0896, 72.8656],  # 孟买贾特拉帕蒂希瓦国际机场
    "BOM": [19.0896, 72.8656],
    
    # 补充缺失的机场坐标
    "浦东": [31.1443, 121.8083],  # 上海浦东国际机场
    "斯坦斯特德": [51.8860, 0.2389],  # 伦敦斯坦斯特德机场
    "克拉克": [15.1859, 120.5603],  # 菲律宾克拉克国际机场
    "普雷斯蒂克": [55.5094, -4.5867],  # 格拉斯哥普雷斯蒂克机场
    "菲利普安吉利斯": [15.1859, 120.5603],  # 菲律宾克拉克机场（菲利普安吉利斯）
    "义乌": [29.3447, 120.0322],  # 义乌机场
    "阿斯塔纳": [51.0228, 71.4669],  # 努尔苏丹纳扎尔巴耶夫国际机场
    "东米德兰兹": [52.8311, -1.3281],  # 东米德兰兹机场
    "瓦茨拉夫哈维尔": [50.1008, 14.2632]  # 布拉格瓦茨拉夫·哈维尔机场
}

def get_airport_coords(city_or_iata):
    """根据城市名或IATA代码获取机场坐标"""
    if not city_or_iata:
        return None
    
    city_or_iata = str(city_or_iata).strip()
    
    # 直接查找
    if city_or_iata in AIRPORT_COORDS:
        return AIRPORT_COORDS[city_or_iata]
    
    # 模糊匹配城市名
    for key, coords in AIRPORT_COORDS.items():
        if city_or_iata in key or key in city_or_iata:
            return coords
    
    # 如果找不到，记录警告并返回None
    print(f"警告: 未找到城市 '{city_or_iata}' 的坐标信息")
    return None